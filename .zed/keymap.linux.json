[
  {
    "use_key_equivalents": true,
    "bindings": {
      "tab": "menu::SelectNext",
      "down": "menu::SelectNext",
      "shift-tab": "menu::SelectPrevious",
      "up": "menu::SelectPrevious",
      "enter": "menu::Confirm",
      "ctrl-enter": "menu::SecondaryConfirm",
      "escape": "menu::Cancel",
      "ctrl-=": "zed::IncreaseBufferFontSize",
      "ctrl--": "zed::DecreaseBufferFontSize",
      "ctrl-0": "zed::ResetBufferFontSize"
    }
  },
  {
    "context": "Editor",
    "use_key_equivalents": true,
    "bindings": {
      "ctrl-shift-w": "editor::SelectLargerSyntaxNode",
      "ctrl-e": "editor::Cancel",
      "ctrl-d": "editor::GoToDefinition",
      "ctrl-h": "editor::Hover",
      "ctrl-?": "editor::ToggleCodeActions",
      "escape": "editor::Cancel",
      "backspace": "editor::Backspace",
      "alt-d": "editor::Delete",
      "delete": "editor::Delete",
      "tab": "editor::Tab",
      "shift-tab": "editor::Backtab",
      "ctrl-x": "editor::Cut",
      "ctrl-c": "editor::Copy",
      "ctrl-v": "editor::Paste",
      "ctrl-z": "editor::Undo",
      "ctrl-shift-z": "editor::Redo",
      "up": "editor::MoveUp",
      "down": "editor::MoveDown",
      "left": "editor::MoveLeft",
      "right": "editor::MoveRight",
      "shift-up": "editor::SelectUp",
      "shift-super-up": "editor::SelectUp",
      "shift-down": "editor::SelectDown",
      "shift-super-down": "editor::SelectDown",
      "shift-left": "editor::SelectLeft",
      "shift-right": "editor::SelectRight",
      "alt-shift-up": "editor::SelectToStartOfParagraph",
      "alt-shift-down": "editor::SelectToEndOfParagraph",
      "ctrl-a": "editor::SelectAll",
      "ctrl-shift-k": "editor::Format",
      "ctrl-shift-l": "editor::FormatSelections",

      // Text Navigation
      "shift-home": [
        "editor::SelectToBeginningOfLine",
        {
          "stop_at_soft_wraps": true
        }
      ],
      "shift-end": [
        "editor::SelectToEndOfLine",
        {
          "stop_at_soft_wraps": true
        }
      ],
      "ctrl-shift-left": "editor::SelectToPreviousWordStart",
      "ctrl-shift-right": "editor::SelectToNextWordEnd",
      "super-backspace": "editor::DeleteToPreviousWordStart",
      "alt-backspace": "editor::DeleteToPreviousSubwordStart",
      "alt-left": "editor::MoveToPreviousSubwordStart",
      "alt-right": "editor::MoveToNextSubwordEnd",
      "alt-shift-left": "editor::SelectToPreviousSubwordStart",
      "alt-shift-right": "editor::SelectToNextSubwordEnd",
      "ctrl-left": "editor::MoveToPreviousWordStart",
      "ctrl-right": "editor::MoveToNextWordEnd",
      "home": "editor::MoveToBeginningOfLine",
      "end": "editor::MoveToEndOfLine"
    }
  },
  {
    "context": "Editor && mode == full",
    "use_key_equivalents": true,
    "bindings": {
      "shift-enter": "editor::Newline",
      "enter": "editor::Newline",
      "ctrl-enter": "editor::NewlineBelow",
      "ctrl-shift-enter": "editor::NewlineAbove",
      "ctrl-f": "buffer_search::Deploy"
    }
  },
  {
    "context": "Editor && mode == full && edit_prediction",
    "use_key_equivalents": true,
    "bindings": {
      "super-tab": "editor::NextEditPrediction",
      "super-shift-tab": "editor::PreviousEditPrediction",
      "alt-ctrl-right": "editor::AcceptPartialEditPrediction"
    }
  },
  {
    "context": "Editor && !edit_prediction",
    "use_key_equivalents": true,
    "bindings": {
      "super-tab": "editor::ShowEditPrediction"
    }
  },
  {
    "context": "Editor && mode == auto_height",
    "use_key_equivalents": true,
    "bindings": {
      "alt-enter": "editor::Newline",
      "shift-enter": "editor::Newline",
      "alt-shift-enter": "editor::NewlineBelow"
    }
  },
  {
    "context": "Markdown",
    "use_key_equivalents": true,
    "bindings": {
      "ctrl-c": "markdown::Copy"
    }
  },
  {
    "context": "BufferSearchBar",
    "use_key_equivalents": true,
    "bindings": {
      "escape": "buffer_search::Dismiss",
      "tab": "buffer_search::FocusEditor",
      "enter": "search::SelectNextMatch",
      "ctrl-f": "search::FocusSearch"
    }
  },
  {
    "context": "BufferSearchBar && in_replace > Editor",
    "use_key_equivalents": true,
    "bindings": {
      "enter": "search::ReplaceNext",
      "ctrl-enter": "search::ReplaceAll"
    }
  },
  {
    "context": "BufferSearchBar && !in_replace > Editor",
    "use_key_equivalents": true,
    "bindings": {
      "up": "search::PreviousHistoryQuery",
      "down": "search::NextHistoryQuery"
    }
  },
  {
    "context": "ProjectSearchBar",
    "use_key_equivalents": true,
    "bindings": {
      "escape": "project_search::ToggleFocus"
    }
  },
  {
    "context": "ProjectSearchBar > Editor",
    "use_key_equivalents": true,
    "bindings": {
      "up": "search::PreviousHistoryQuery",
      "down": "search::NextHistoryQuery"
    }
  },
  {
    "context": "ProjectSearchBar && in_replace > Editor",
    "use_key_equivalents": true,
    "bindings": {
      "enter": "search::ReplaceNext"
    }
  },
  {
    "context": "ProjectSearchView",
    "use_key_equivalents": true,
    "bindings": {
      "escape": "project_search::ToggleFocus"
    }
  },
  {
    "context": "Pane",
    "use_key_equivalents": true,
    "bindings": {
      "ctrl-w": "pane::CloseActiveItem",
      "super-ctrl-t": [
        "pane::CloseInactiveItems",
        {
          "close_pinned": false
        }
      ]
    }
  },
  {
    "context": "Editor",
    "use_key_equivalents": true,
    "bindings": {
      "ctrl-[": "editor::Outdent",
      "ctrl-]": "editor::Indent",
      "ctrl-q": "editor::DeleteLine",
      "ctrl-up": "editor::MoveLineUp",
      "ctrl-down": "editor::MoveLineDown",
      "pageup": "editor::MovePageUp",
      "pagedown": "editor::MovePageDown",
      "ctrl-shift-d": "editor::DuplicateLineDown",
      "ctrl-\\": [
        "editor::ToggleComments",
        {
          "advance_downwards": false
        }
      ],
      "ctrl-/": "editor::ShowCompletions",
      "ctrl-shift-v": "markdown::OpenPreview",
      "ctrl-backspace": "editor::DeleteToBeginningOfLine"
    }
  },
  {
    "context": "Editor && mode == full",
    "use_key_equivalents": true,
    "bindings": {
      "ctrl-g": "go_to_line::Toggle"
    }
  },
  {
    "context": "Pane",
    "use_key_equivalents": true,
    "bindings": {
      "ctrl-`": ["pane::ActivateItem", 0],
      "ctrl-1": ["pane::ActivateItem", 1],
      "ctrl-2": ["pane::ActivateItem", 2],
      "ctrl-3": ["pane::ActivateItem", 3],
      "ctrl-4": ["pane::ActivateItem", 4],
      "ctrl-5": ["pane::ActivateItem", 5],
      "ctrl-6": ["pane::ActivateItem", 6],
      "ctrl-7": ["pane::ActivateItem", 7],
      "ctrl-8": ["pane::ActivateItem", 8],
      "ctrl-9": ["pane::ActivateItem", 9],
      "ctrl-{": "pane::SwapItemLeft",
      "ctrl-}": "pane::SwapItemRight",
      "ctrl-shift-n": "pane::TogglePinTab"
    }
  },
  {
    "context": "Workspace",
    "use_key_equivalents": true,
    "bindings": {
      "ctrl-shift-c": "workspace::CopyRelativePath",
      "ctrl-s": "workspace::Save",
      "ctrl-shift-b": "workspace::ToggleLeftDock",
      "ctrl-b": "workspace::ToggleRightDock",
      "ctrl-shift-f": "pane::DeploySearch",
      "ctrl-shift-t": "pane::ReopenClosedItem",
      "ctrl-n": "project_symbols::Toggle",
      "ctrl-p": "file_finder::Toggle",
      "ctrl-shift-p": "command_palette::Toggle",
      "ctrl-shift-x": "zed::Extensions"
    }
  },
  {
    "context": "Workspace && !Terminal",
    "use_key_equivalents": true,
    "bindings": {
      "ctrl-t": "workspace::NewFile"
    }
  },
  // Bindings that should be unified with bindings for more general actions
  {
    "context": "Editor && renaming",
    "use_key_equivalents": true,
    "bindings": {
      "enter": "editor::ConfirmRename"
    }
  },
  {
    "context": "Editor && showing_completions",
    "use_key_equivalents": true,
    "bindings": {
      "enter": "editor::ConfirmCompletion",
      "tab": "editor::ComposeCompletion"
    }
  },
  {
    "context": "Editor && edit_prediction && !showing_completions",
    "use_key_equivalents": true,
    "bindings": {
      "tab": "editor::AcceptEditPrediction"
    }
  },
  {
    "context": "Editor && showing_code_actions",
    "use_key_equivalents": true,
    "bindings": {
      "enter": "editor::ConfirmCodeAction"
    }
  },
  {
    "context": "Editor && (showing_code_actions || showing_completions)",
    "use_key_equivalents": true,
    "bindings": {
      "up": "editor::ContextMenuPrevious",
      "down": "editor::ContextMenuNext"
    }
  },
  {
    "context": "Editor && mode == full",
    "use_key_equivalents": true,
    "bindings": {
      "super-enter": "editor::OpenExcerpts",
      "shift-enter": "editor::ExpandExcerpts",
      "ctrl-shift-e": "pane::RevealInProjectPanel"
    }
  },
  {
    "context": "OutlinePanel && not_editing",
    "use_key_equivalents": true,
    "bindings": {
      "escape": "menu::Cancel",
      "left": "outline_panel::CollapseSelectedEntry",
      "right": "outline_panel::ExpandSelectedEntry",
      "space": "outline_panel::OpenSelectedEntry",
      "shift-down": "menu::SelectNext",
      "shift-up": "menu::SelectPrevious",
      "super-enter": "editor::OpenExcerpts",
      "ctrl-super-enter": "editor::OpenExcerptsSplit"
    }
  },
  {
    "context": "ProjectPanel",
    "use_key_equivalents": true,
    "bindings": {
      "escape": "menu::Cancel",
      "ctrl-x": "project_panel::Cut",
      "ctrl-c": "project_panel::Copy",
      "ctrl-v": "project_panel::Paste"
    }
  },
  {
    "context": "ProjectPanel && not_editing",
    "use_key_equivalents": true,
    "bindings": {
      "space": "project_panel::Open",
      "enter": "project_panel::Open"
    }
  },
  {
    "context": "Picker > Editor",
    "use_key_equivalents": true,
    "bindings": {
      "tab": "picker::ConfirmCompletion",
      "super-enter": [
        "picker::ConfirmInput",
        {
          "secondary": false
        }
      ],
      "ctrl-super-enter": [
        "picker::ConfirmInput",
        {
          "secondary": true
        }
      ]
    }
  },
  {
    "context": "ZedPredictModal",
    "use_key_equivalents": true,
    "bindings": {
      "escape": "menu::Cancel"
    }
  },
  {
    "context": "Workspace",
    "bindings": {
      "ctrl->": [
        "task::Spawn",
        {
          "task_name": "✨",
          "reveal_target": "center"
        }
      ]
    }
  },
  {
    "context": "Editor",
    "bindings": {
      "ctrl-.": "editor::ToggleGitBlameInline"
    }
  },
  {
    "context": "Terminal",
    "use_key_equivalents": true,
    "bindings": {
      "ctrl-c": "terminal::Copy",
      "ctrl-v": "terminal::Paste",
      "ctrl-backspace": ["terminal::SendText", "\u0015"],
      "ctrl-right": ["terminal::SendText", "\u0005"],
      "ctrl-left": ["terminal::SendText", "\u0001"],
      "super-left": ["terminal::SendText", "\u001bb"],
      "super-right": ["terminal::SendText", "\u001bf"]
    }
  }
]
